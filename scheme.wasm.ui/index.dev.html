<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <script>
      window.addEventListener('error', event => {
        const app = document.getElementById('app');
        const head = document.createElement('h2');
        const details = document.createElement('div');
        if (event.message.toLowerCase().indexOf('script error') >= 0) {
          head.append('Script Error');
          details.append('See console for details');
        } else {
          head.append('Uncaught Error');
          const message = [
            'Message: ' + event.message,
            'Url: ' + event.filename,
            'Line: ' + event.lineno + ', column: ' + event.colno,
            'Error: ' + event.error
          ];
          message.forEach(el => {
            details.append(el);
            details.append(document.createElement('br'));
          });
        }
        app.append(head);
        app.append(details);
        return false;
      });
    </script>
  </head>
  <body>
    <div id="app"></div>
    <script
      crossorigin
      src="https://unpkg.com/react@17/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
    ></script>
    <script
      src="https://unpkg.com/prop-types@15.7.2/prop-types.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/state-local@1.0.7/lib/umd/state-local.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/@monaco-editor/loader@0.1.2/lib/umd/monaco-loader.min.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/@monaco-editor/react@4.0.0/lib/umd/monaco-react.min.js"
      crossorigin
    ></script>
  </body>
</html>
